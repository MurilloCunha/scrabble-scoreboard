(this["webpackJsonpscrabble-scoreboard"]=this["webpackJsonpscrabble-scoreboard"]||[]).push([[0],{31:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(19),r=c.n(a),i=(c(31),c(0));var l=function(){return Object(i.jsxs)("section",{className:"logo",children:[Object(i.jsx)("img",{className:"logo__image",src:"./Scrabble-logo.png",alt:"scrabble logo"}),Object(i.jsxs)("h1",{className:"logo__title",children:[Object(i.jsx)("span",{className:"logo__title--tile",children:"S"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"C"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"O"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"R"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"E"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"B"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"O"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"A"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"R"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"D"})]})]})},o=c(9),j=c(2),b=c(26),u=c.n(b);var d=function(e){return Object(i.jsx)("article",{className:"info-container",children:e.children})},h=c(8),O=function(e){return Object(i.jsx)("button",Object(h.a)(Object(h.a)({type:"button",className:e.variant},e),{},{children:e.children}))};var m=function(){return Object(i.jsxs)("section",{className:"home",children:[Object(i.jsxs)(d,{children:[Object(i.jsx)("h2",{className:"content__title",children:"Acompanhe sua pontua\xe7\xe3o!"}),Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:"Crie um novo jogo"}),Object(i.jsx)("li",{children:"Insira os nomes dos jogadores"}),Object(i.jsx)("li",{children:"Marque os pontos"}),Object(i.jsx)("li",{children:"Fa\xe7a consultas ao dicion\xe1rio"}),Object(i.jsx)("li",{children:"Descubra quem venceu!"})]})]}),Object(i.jsx)(o.b,{to:"/scrabble-scoreboard/players-setup",children:Object(i.jsx)(O,{children:"Novo Jogo"})})]})},x=c(7),p=c(12),_=c(13),f=function(){function e(t,c){Object(p.a)(this,e),this._id=t,this._name=c,this._score=[]}return Object(_.a)(e,[{key:"totalScore",get:function(){return this._score.reduce((function(e,t){return e+t}),0)}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"setName",value:function(e){this._name=e}},{key:"score",get:function(){return this._score}},{key:"data",get:function(){return{id:this._id,name:this._name,score:this._score}}},{key:"addScore",value:function(e){this._score.push(e)}},{key:"removeScore",value:function(e){this._score.splice(e,1)}}]),e}(),g=new(function(){function e(){Object(p.a)(this,e),this._playersList=[new f(1,""),new f(2,"")]}return Object(_.a)(e,[{key:"all",get:function(){return this._playersList}},{key:"add",value:function(e){var t=e.id,c=e.name;this._playersList.push(new f(t,c))}},{key:"restore",value:function(){this._playersList=[new f(1,""),new f(2,"")]}}]),e}()),v=Object(n.createContext)(g),N=new(function(){function e(){Object(p.a)(this,e),this._startTime=0,this._endTime=0}return Object(_.a)(e,[{key:"setStartTime",value:function(){var e=new Date;this._startTime=[e.getHours(),e.getMinutes(),e.getSeconds()]}},{key:"setEndTime",value:function(){var e=new Date;this._endTime=[e.getHours(),e.getMinutes(),e.getSeconds()]}},{key:"getDuration",value:function(){var e=Math.abs(this._endTime[0]-this._startTime[0]),t=Math.abs(this._endTime[1]-this._startTime[1]),c=Math.abs(this._endTime[2]-this._startTime[2]);return"".concat(e,"h ").concat(t,"m ").concat(c,"s")}}]),e}()),y=Object(n.createContext)(N);var k=function(e){var t=e.player;return Object(i.jsxs)("div",{className:"player-input",children:[Object(i.jsxs)("label",{htmlFor:"player".concat(t.id),children:["Jogador(a) ",t.id,":"]}),Object(i.jsx)("input",{type:"text",placeholder:"digite o nome do jogador(a)",defaultValue:t.name,onChange:function(e){var c=e.target.value;t.setName(c)}})]})};var C=function(){var e=Object(n.useState)(0),t=Object(x.a)(e,2),c=t[0],s=t[1],a=Object(n.useContext)(v),r=Object(n.useContext)(y),l=Object(n.useCallback)((function(){c<4&&a.add({id:a.all.length+1,name:""}),s(a.all.length)}),[a,c]);return Object(i.jsxs)("section",{className:"players-setup",children:[a.all.map((function(e){return Object(i.jsx)(k,{player:e},e.id)})),a.all.length<4&&Object(i.jsx)(O,{variant:"ghost",onClick:l,children:"+"}),Object(i.jsx)(o.b,{to:"/scrabble-scoreboard/scoreboard",children:Object(i.jsx)(O,{onClick:function(){return r.setStartTime()},children:"Come\xe7ar"})})]})},S=c(11);var w=function(e){return Object(i.jsx)("input",Object(h.a)(Object(h.a)({className:"score-input",type:"number",min:0},e),{},{defaultValue:0}))};var M=function(e){var t=e.playersList,c=Object(n.useState)([0]),s=Object(x.a)(c,2),a=s[0],r=s[1],l=Object(n.useCallback)((function(e,c){var n=e.target.value;c.addScore(Number(n));var s=Object(S.a)(c.score.map((function(e,t){return t}))),i=t.map((function(e){return e.score.length})),l=i.every((function(e){return e===i[0]}));r(l?[].concat(Object(S.a)(a),[a.length]):s)}),[t,a]);return Object(n.useEffect)((function(){var e=document.querySelector("tbody");e.scrollTop=e.scrollHeight}),[a]),Object(i.jsxs)("table",{className:"scoreboard__table",children:[Object(i.jsx)("thead",{children:Object(i.jsx)("tr",{children:t.map((function(e){return Object(i.jsx)("th",{children:Object(i.jsx)("span",{children:e.name})},"header_".concat(e.name))}))})}),Object(i.jsx)("tbody",{children:a.map((function(e){return Object(i.jsx)("tr",{children:t.map((function(t){return Object(i.jsx)("td",{children:Object(i.jsxs)("span",{children:[console.log(t.score[e]),t.score[e]>=0?t.score[e]:Object(i.jsx)(w,{onBlur:function(e){return l(e,t)}})]})},"".concat(t.name,"_").concat(e))}))})}))}),Object(i.jsx)("tfoot",{children:Object(i.jsx)("tr",{children:t.map((function(e){return Object(i.jsx)("td",{className:"scoreboard__table-total",children:Object(i.jsx)("span",{children:e.totalScore})},"total_".concat(e.name))}))})})]})};var T=function(e){var t=e.result;return Object(i.jsx)(i.Fragment,{children:t.map((function(e){return Object(i.jsxs)("div",{className:"search-result",children:[Object(i.jsx)("h2",{children:e.word}),e.meanings.map((function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:e.partOfSpeech}),Object(i.jsx)("ol",{children:e.definitions.map((function(e){return Object(i.jsx)("li",{children:e.definition})}))})]})}))]})}))})};var E=function(e){var t=e.resultHandler,c=Object(n.useState)(""),s=Object(x.a)(c,2),a=s[0],r=s[1],l=Object(n.useCallback)((function(e){var t=e.target.value;r(t)}),[]),o=Object(n.useCallback)((function(){var e;(e=a,new Promise((function(t,c){fetch("https://api.dictionaryapi.dev/api/v2/entries/pt-BR/".concat(e)).then((function(e){return e.ok?e.json():[{word:"Palavra n\xe3o encontrada",meanings:[]}]})).then((function(e){return t(e)})).catch((function(e){throw new Error(e)}))}))).then((function(e){return t(Object(i.jsx)(T,{result:e}))}))}),[a,t]);return Object(i.jsxs)("div",{className:"search-input-wrapper",children:[Object(i.jsx)("input",{className:"search-input",type:"text",placeholder:"Consulte o dicion\xe1rio",onChange:l}),Object(i.jsx)("button",{className:"search-button",onClick:o})]})};var D=function(e){return Object(i.jsx)("section",{className:"modal",children:Object(i.jsxs)("div",{className:"modal__container",children:[Object(i.jsx)(o.b,{to:e.to,children:Object(i.jsx)("button",Object(h.a)(Object(h.a)({className:"modal__close-button",type:"button"},e),{},{children:"x"}))}),Object(i.jsx)("div",{className:"modal__content",children:e.children})]})})};var L=function(){var e=Object(n.useContext)(v),t=Object(n.useContext)(y),c=e.all.reduce((function(e,t){return e.totalScore>t.totalScore?e:t})),s=e.all.reduce((function(e,t){return Math.max(e.score)>Math.max(t.score)?e:t})),a={score:Math.max.apply(Math,Object(S.a)(s.score)),player:s.name},r=e.all.reduce((function(e,t){return Math.min.apply(Math,Object(S.a)(t.score))>Math.min(e.score)?t:e})),l={score:Math.min.apply(Math,Object(S.a)(r.score)),player:r.name};return Object(i.jsxs)("section",{className:"game-stats",children:[Object(i.jsxs)("article",{className:"game-stats__winner",children:[Object(i.jsxs)("h2",{className:"logo__title",children:[Object(i.jsx)("span",{className:"logo__title--tile",children:"V"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"E"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"N"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"C"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"E"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"D"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"O"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"R"}),Object(i.jsx)("span",{className:"logo__title--tile",children:"(A)"})]}),Object(i.jsx)("h3",{children:c.name})]}),Object(i.jsx)("article",{className:"game-stats__stats",children:Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:["Maior pontua\xe7\xe3o: ",a.score,"(",a.player,")"]}),Object(i.jsxs)("li",{children:["Menor pontua\xe7\xe3o: ",l.score,"(",l.player,")"]}),Object(i.jsxs)("li",{children:["Tempo de jogo: ",t.getDuration()]})]})})]})};var H=function(){var e=Object(n.useContext)(v),t=Object(n.useContext)(y),c=Object(n.useState)(""),s=Object(x.a)(c,2),a=s[0],r=s[1],l=Object(n.useState)(),o=Object(x.a)(l,2),j=o[0],b=o[1],u=Object(n.useState)(),d=Object(x.a)(u,2),h=d[0],m=d[1],p=Object(n.useCallback)((function(t){b(t),r(!a),"/"===h&&e.restore()}),[h,e,a]),_=Object(n.useCallback)((function(){t.setEndTime(),m("/scrabble-scoreboard/"),b(Object(i.jsx)(L,{})),r(!a)}),[t,a]);return Object(i.jsxs)("section",{className:"scoreboard",children:[Object(i.jsx)(E,{resultHandler:p}),Object(i.jsx)(M,{playersList:e.all}),Object(i.jsx)(O,{onClick:_,children:"Finalizar"}),a&&Object(i.jsx)(D,{onClick:p,to:h,children:j})]})};var B=function(){return Object(i.jsx)("h2",{children:"P\xe1gina n\xe3o encontrada"})};var F=function(){return Object(i.jsxs)(o.a,{children:[Object(i.jsx)(u.a,{children:Object(i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, minimum-scale=1.0"})}),Object(i.jsxs)(j.c,{children:[Object(i.jsx)(j.a,{exact:!0,path:"/scrabble-scoreboard/",children:Object(i.jsx)(m,{})}),Object(i.jsx)(j.a,{path:"/scrabble-scoreboard/players-setup",children:Object(i.jsx)(C,{})}),Object(i.jsx)(j.a,{path:"/scrabble-scoreboard/scoreboard",children:Object(i.jsx)(H,{})}),Object(i.jsx)(j.a,{children:Object(i.jsx)(B,{})})]})]})};r.a.render(Object(i.jsxs)(s.a.StrictMode,{children:[Object(i.jsx)(l,{}),Object(i.jsx)(F,{})]}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.8cabe1a3.chunk.js.map